
/**
 * 由 Fantastic-mobile 提供技术支持
 * Powered by Fantastic-mobile
 * https://fantastic-mobile.hurui.me/
 */
    
import{a7 as L,d as h,W as S,c,o as l,u as a,a8 as q,G as J,H as Q,w as n,v as y,U as A,a9 as j,z as N,aa as Y,B as D,ab as ee,b as m,ac as ae,I as O,k as $,n as u,p as f,E as p,ad as te,a as P,ae as oe,af as se,ag as K,ah as le,ai as ne,L as ie,r as _,Z as re,aj as ce,e as w,f as de,t as z,ak as ue,C as fe,D as pe,_ as me}from"./index-DVMzUQcU.js";/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=L("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=L("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ve=h({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(o,{emit:r}){const s=S(o,r);return(g,C)=>(l(),c(a(q),J(Q(a(s))),{default:n(()=>[y(g.$slots,"default")]),_:3},16))}}),he=["data-modal-id"],xe={class:"absolute inset-e-4 top-4 flex-center gap-2"},be=h({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},modalId:{},class:{},open:{type:Boolean},maximize:{type:Boolean},maximizable:{type:Boolean},closable:{type:Boolean},overlay:{type:Boolean},overlayBlur:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","toggleMaximize","animationEnd"],setup(o,{expose:r,emit:d}){const e=o,s=d,g=A(e,"class"),C=S(g,s);function k(){s("toggleMaximize",!e.maximize)}const B=j("dialogContentRef");r({el:B});const i=N(()=>e.open&&e.overlay),x=Y(document.body);return D(i,v=>{v?x.value=!0:x.value=!1}),(v,b)=>(l(),c(a(ee),null,{default:n(()=>[m(ae,O({enterActiveClass:"ease-in-out duration-300",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in-out duration-300",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},{appear:!0}),{default:n(()=>[a(i)?(l(),$("div",{key:0,"data-modal-id":e.modalId,class:f(a(p)("fixed inset-0 z-2000 data-[state=closed]:animate-out data-[state=open]:animate-in bg-black/50 data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",{"backdrop-blur-sm":e.overlayBlur}))},null,10,he)):u("",!0)]),_:1},16),m(a(te),O({ref_key:"dialogContentRef",ref:B},a(C),{class:a(p)("fixed left-1/2 top-1/2 z-2000 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-0 data-[state=closed]:slide-out-to-top-1/5 data-[state=open]:slide-in-from-left-0 data-[state=open]:slide-in-from-top-1/5 sm:rounded-lg",e.class),onAnimationend:b[0]||(b[0]=E=>s("animationEnd"))}),{default:n(()=>[y(v.$slots,"default"),P("div",xe,[e.maximizable?(l(),$("button",{key:0,class:"hidden rounded-sm bg-transparent opacity-70 ring-offset-background transition-opacity disabled:pointer-events-none sm:inline-block data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring",onClick:k},[e.maximize?(l(),c(a(ge),{key:1,class:"h-4 w-4"})):(l(),c(a(ye),{key:0,class:"h-4 w-4"}))])):u("",!0),o.closable?(l(),c(a(oe),{key:1,class:"rounded-sm bg-transparent opacity-70 ring-offset-background transition-opacity disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring"},{default:n(()=>[m(a(se),{class:"h-4 w-4"}),b[1]||(b[1]=P("span",{class:"sr-only"},"Close",-1))]),_:1})):u("",!0)])]),_:3},16,["class"])]),_:3}))}}),I=h({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const r=o,d=A(r,"class"),e=K(d);return(s,g)=>(l(),c(a(le),O(a(e),{class:a(p)("text-sm text-muted-foreground",r.class)}),{default:n(()=>[y(s.$slots,"default")]),_:3},16,["class"]))}}),Be=h({__name:"DialogFooter",props:{class:{}},setup(o){const r=o;return(d,e)=>(l(),$("div",{class:f(a(p)("flex flex-col-reverse gap-y-2 sm:flex-row sm:justify-end sm:gap-x-2",r.class))},[y(d.$slots,"default")],2))}}),_e=h({__name:"DialogHeader",props:{class:{}},setup(o){const r=o;return(d,e)=>(l(),$("div",{class:f(a(p)("flex flex-col gap-y-1.5 text-center sm:text-start",r.class))},[y(d.$slots,"default")],2))}}),H=h({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const r=o,d=A(r,"class"),e=K(d);return(s,g)=>(l(),c(a(ne),O(a(e),{class:a(p)("text-lg font-semibold tracking-tight",r.class)}),{default:n(()=>[y(s.$slots,"default")]),_:3},16,["class"]))}}),Ce={class:"absolute inset-0 z-1000 size-full flex-center bg-popover/75"},ze=h({name:"FmModal",__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{},description:{},icon:{},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maximize:{type:Boolean},maximizable:{type:Boolean},draggable:{type:Boolean},center:{type:Boolean,default:!1},border:{type:Boolean,default:!0},alignCenter:{type:Boolean},overlay:{type:Boolean,default:!0},overlayBlur:{type:Boolean,default:!1},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmButtonText:{default:"确定"},cancelButtonText:{default:"取消"},confirmButtonDisabled:{type:Boolean,default:!1},confirmButtonLoading:{type:Boolean,default:!1},beforeClose:{},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!0},class:{},headerClass:{},contentClass:{},footerClass:{}},emits:["update:modelValue","open","opened","close","closed","confirm","cancel"],setup(o,{expose:r,emit:d}){const e=o,s=d,g=ie(),C=_(),k=j("dialogAreaRef");r({areaRef:k});const B=re(),i=_(e.modelValue);D(()=>e.modelValue,t=>{i.value=t});const x=_(!1),v=_(!0);D(()=>i.value,t=>{v.value=!1,t&&!x.value&&(x.value=!0)},{immediate:!0});const b=N(()=>!e.destroyOnClose&&x.value);D(i,t=>{s("update:modelValue",t),s(t?"open":"close")});async function E(t){t?(i.value=t,s("open")):e.beforeClose?await e.beforeClose("close",()=>{i.value=t,s("close")}):(i.value=t,s("close"))}const M=_(!1);async function U(){e.beforeClose?(M.value=!0,await e.beforeClose("confirm",()=>{i.value=!1,s("confirm")}),M.value=!1):(i.value=!1,s("confirm"))}async function G(){e.beforeClose?await e.beforeClose("cancel",()=>{i.value=!1,s("cancel")}):(i.value=!1,s("cancel"))}function F(t){t.preventDefault(),t.stopPropagation()}function R(t){(!e.closeOnClickOverlay||t.target.dataset.modalId!==B)&&(t.preventDefault(),t.stopPropagation())}function W(t){e.closeOnPressEscape||(t.preventDefault(),t.stopPropagation())}function X(){i.value?s("opened"):(s("closed"),v.value=!0)}return(t,ke)=>{const V=de,Z=ue,T=me;return l(),c(a(ve),{modal:!1,open:a(i),"onUpdate:open":E},{default:n(()=>[m(a(be),{"modal-id":a(B),open:a(i),closable:e.closable,overlay:e.overlay,"overlay-blur":e.overlayBlur,"force-mount":a(b),class:f(a(p)("left-0 right-0 top-1/2 flex flex-col p-0 gap-0 mx-auto h-[calc-size(auto,size)] w-[90vw] min-h-auto max-h-[90vh] translate-x-0 -translate-y-1/2",e.class,{hidden:a(v)})),onOpenAutoFocus:F,onCloseAutoFocus:F,onFocusOutside:F,onPointerDownOutside:R,onInteractOutside:R,onEscapeKeyDown:W,onAnimationEnd:X},{default:n(()=>[o.header?(l(),c(a(_e),{key:0,ref_key:"dialogHeaderRef",ref:C,class:f(a(p)("p-4",e.headerClass,{"border-b":e.border}))},{default:n(()=>[g.header?(l(),c(a(ce),{key:0},{default:n(()=>[m(a(H)),m(a(I))]),_:1})):u("",!0),y(t.$slots,"header",{},()=>[m(a(H),{class:f(["flex-center justify-start gap-x-2",{"justify-center":e.center}])},{default:n(()=>[e.icon?(l(),c(V,{key:0,name:{info:"i-ant-design:info-circle-filled",success:"i-ant-design:check-circle-filled",warning:"i-ant-design:exclamation-circle-filled",error:"i-ant-design:close-circle-filled"}[e.icon],class:f(["size-6",{"text-blue-600 dark:text-blue-400":e.icon==="info","text-green-600 dark:text-green-400":e.icon==="success","text-yellow-600 dark:text-yellow-400":e.icon==="warning","text-red-600 dark:text-red-400":e.icon==="error"}])},null,8,["name","class"])):u("",!0),w(" "+z(o.title),1)]),_:1},8,["class"]),m(a(I),{class:f(["text-left empty:hidden",{"text-center":e.center}])},{default:n(()=>[w(z(o.description),1)]),_:1},8,["class"])])]),_:3},8,["class"])):u("",!0),g.default?(l(),c(Z,{key:1,ref_key:"dialogAreaRef",ref:k,class:"flex-1"},{default:n(()=>[P("div",{class:f(a(p)("min-h-40 p-4",e.contentClass))},[y(t.$slots,"default")],2),fe(P("div",Ce,[m(V,{name:"i-line-md:loading-twotone-loop",class:"size-10"})],512),[[pe,e.loading]])]),_:3},512)):u("",!0),o.footer?(l(),c(a(Be),{key:2,class:f(a(p)("p-2",e.footerClass,{"border-t":e.border}))},{default:n(()=>[y(t.$slots,"footer",{},()=>[o.showCancelButton?(l(),c(T,{key:0,variant:"outline",class:"w-full",onClick:G},{default:n(()=>[w(z(o.cancelButtonText),1)]),_:1})):u("",!0),o.showConfirmButton?(l(),c(T,{key:1,disabled:o.confirmButtonDisabled,loading:o.confirmButtonLoading||a(M),class:"w-full",onClick:U},{default:n(()=>[w(z(o.confirmButtonText),1)]),_:1},8,["disabled","loading"])):u("",!0)])]),_:3},8,["class"])):u("",!0)]),_:3},8,["modal-id","open","closable","overlay","overlay-blur","force-mount","class"])]),_:3},8,["open"])}}});export{ze as _};
